local AlancasSistemas = {}

function AlancasSistemas.EncontrarPastaAlavancas()
    for _, pasta in ipairs(game.Workspace:GetChildren()) do
        if pasta:IsA("Folder") then
            -- Verifica se há uma pasta 'Cooking' dentro da pasta atual
            for _, PastaCooking in ipairs(pasta:GetChildren()) do
                if PastaCooking:IsA("Folder") and PastaCooking.Name == "Cooking" then
                    
                    
                    -- Itera apenas nas pastas da pasta que contém 'Cooking'
                    for _, Pasta2 in ipairs(pasta:GetChildren()) do
                        if Pasta2:IsA("Folder") then
                            -- Verifica se há uma pasta 'HANDLER' dentro da pasta encontrada
                            for _, PastaHANDLER in ipairs(Pasta2:GetChildren()) do
                                if PastaHANDLER:IsA("Folder") and PastaHANDLER.Name == "HANDLER" then
                                    print("Working...")
                                    return Pasta2
                                end
                            end
                        end
                    end
                end
            end
        end
    end
end


function AlancasSistemas.AtivarAlavancas(folder)
    local pasta = folder

    if not pasta:FindFirstChild("Levers") then
        warn("A pasta Levers não foi encontrada!")
        return
    end

    local levers = pasta.Levers:GetChildren()
    
    for _, alavanca in ipairs(levers) do
        local lever = alavanca:FindFirstChild("Lever")
        if lever and lever:IsA("BasePart") and lever.Transparency == 0 then
            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(lever.Position)
            wait(0.5)
            
            local proximityPrompt = lever:FindFirstChildOfClass("ProximityPrompt")
            if proximityPrompt then
                fireproximityprompt(proximityPrompt)
            end
        end
    end
end

return AlancasSistemas